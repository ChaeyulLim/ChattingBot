# 채팅 AI 개발 기획서

## Infomation

- ### Model
    - Exone 1.2B

- ### Develop Language
    - AI    : python
    - GUI   : c++
    - DB    : SQL Lite


---
## AI 동작 흐름

### 1. 사용자 입력
- user가 text 입력

### 2. 연산 준비
- **입력 임베딩 생성**: 사용자 입력 텍스트 → 벡터로 변환
- **유사도 검색**: 입력 벡터와 DB의 과거 대화 벡터들 비교 (cosine similarity)
- **관련 대화 추출**: 상위 3~5개 과거 대화 가져오기

### 3. 프롬프트 구성
[
  시스템 프롬프트,
  유사도 검색으로 찾은 과거 대화,
  최근 대화 (messages 리스트의 10~20턴),
  현재 사용자 입력
]

### 4. AI 연산
- 구성된 프롬프트로 model.generate() 실행
- 응답 생성

### 5. 출력
- 사용자에게 응답 표시

### 6. 기록 (비동기)
- 사용자 입력 + AI 응답 DB 저장
- 임베딩 벡터 생성 후 저장
- messages 리스트에 추가 (20턴 넘으면 오래된 것 제거)